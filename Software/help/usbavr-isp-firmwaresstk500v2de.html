<html><head><title>USBAVR-ISP-FirmwaresSTK500v2de.txt</title></head><body><font face="arial,verdana" size="-1"><b>Status: fertig</b><br><br><br>Mit dem STK500v2-Protokoll-Programmer k?nnen Sie direkt aus dem AVR-Studio heraus programmieren. Er nutzt die originale Atmel-Integration im AVR-Studio, keine Zusatzprogramme wie AVRProg oder ?hnliches.<br><br><h4>Funktionen</h4><ul><li>STK500v2-kompatibel (direkt aus AVR-Studio benutzbar)</li><li>Targetstatus wird mit LEDs angezeigt (<i>nicht angeschlossen</i>, <i>falsch angeschlossen</i>, <i>korrekt angeschlossen</i>)</li><li>Alle AVR?s die ?ber ISP programmierbar sind unterst?tzt</li><li>Gesamter Betriebsspannungsbereich (2,7-5,5V) programmierbar</li><li>1 khz - 3 Mhz ISP Frequenz</li><li>Firmware kompatibel zu <a href="http://www.fischl.de/usbasp/" target="_BLANK">USBasp</a>-Hardware</li><li>Firmware kompatibel zu <a href="http://berlin.ccc.de/wiki/AVR-Programmiergr%C3%A4t_(USB)" target="_BLANK">CCCB Programmierger?t</a>-Hardware</li></ul><h4>Download</h4>Die Firmware ist im <a href="usbavr-isp-downloadde_ol__li_software.html">AVR USB-Lab Tool</a> enthalten.</li></ol><h4>Pinbelegung</h4>MOSI = Pin 1 der 10-poligen Schnittstelle <bR>VCC = Pin 2 der 10-poligen Schnittstelle <bR>TxD = Pin 4 der 10-poligen Schnittstelle <bR>RESET = Pin 5 der 10-poligen Schnittstelle <bR>RxD = Pin 6 der 10-poligen Schnittstelle <bR>SCK = Pin 7 der 10-poligen Schnittstelle <bR>GND = Pin 8 oder 10 der 10-poligen Schnittstelle<br>MISO = Pin 9 der 10-poligen Schnittstelle <bR><br><br><h4>Benutzung</h4><h5>AVR Studio</h5>Der ISP meldet sich als virtueller Comport unter Windows XP an.<br>W?hlen Sie aus dem Men? <i>Tools</i> im AVR-Studio -> Program AVR -> Connect.<br><img src="avrstudio1.png" alt="Avrstudio1.PNG"></img><br><br><br>Oder den Button <img src="avrstudio2.png" alt="Avrstudio2.PNG"></img>.<br><br><br>Nachfolgend w?hlen Sie "STK500 or AVRISP" und Auto oder den Com Port, den der USB AVR-ISP angelegt hat, aus.<br><img src="avrstudio3.png" alt="Avrstudio3.PNG"></img><br><br><br>Nachdem Sie auf OK geklickt haben, erscheint m?glicherweise diese Nachricht:<br><img src="avrstudio4.png" alt="Avrstudio4.PNG"></img><br><br><br>Sie besagt, dass die Firmwareversion auf dem Programmer nicht mit der vom AVR Studio mitgelieferten ?bereinstimmt. Damit diese Meldung nicht jedesmal beim Verbinden "nervt", kann man mit dem AVR-ISP Tool die Firmwareversion ?ndern, die dem AVR-Studio mitgeteilt wird (Siehe Terminal-Modus).Um diese Meldung zu umgehen, klicken sie auf <i>Abbrechen</i>.<br><br>Nun sollte sich dieses Fenster ?ffnen:<br><img src="avrstudio5.png" alt="Avrstudio5.PNG"></img><br><br>Hier haben Sie nun alle Einstellungen und M?glichkeiten, die Sie mit einem AVRISP oder STK500 auch haben. Genaueres entnehmen Sie bitte der AVR-Studio-Hilfe.<br><br>Sollten Sie Probleme beim Flashen einzelner Controller haben, schicken Sie mir bitte ein Log. Eine Anleitung zum Erstellen eines solchen finden Sie <a href="usbavr-isp-firmwaresavrstudiologs.html">hier</a><br><br><h6>Problembehebung</h6>Wenn der Programmer nicht gefunden wird, ist m?glicherweise die Nummer des COM-Ports zu hoch. Das AVR-Studio durchsucht nur bis COM9. <br><br>Gehen Sie zum Beheben des Problems in den Ger?temanager, klicken Sie doppelt auf den virtuellen COM-Port.<br>Dann auf Anschlu?einstellungen<br>->Erweitert<br>Nun w?hlen Sie unter COM-Anschlussnummer einen freien Anschluss niedriger als COM 9 aus.<br>Nun sollte das AVR Studio den Programmer finden.<br><br><h5>Bascom</h5>W?hlen Sie in Bascom unter Options->Programmer im Feld Programmer STK500.W?hlen Sie unter COM-Port die Nummer der seriellen Schnittstelle, die der Programmer jetzt hat.Suchen Sie unter STK500 EXE die <i>stk500.exe</i> des AVR Studios (Sie findet sich normalerweise in <pre></pre>C:\Programme\Atmel\AVR Tools\STK500\stk500.exe <br><br><img src="bascom_stk500_prog.jpg" alt="bascom_stk500_prog.JPG"></img><br><br><h4>Anzeigeelemente</h4><ul><li>gr?n-rote-Dual-LED:  Sie zeigt den Status der Zielhardware an. </li><ul><li>aus: keine Zielhardware angeschlossen</li><li>gr?n: Zielhardware richtig angeschlossen (wenn Jumper zur Targetversorgung gesetzt ist leuchtet sie dauernd gr?n)</li><li>rot blinkend: Zielhardware falsch angeschlossen</li><li>rot: Programmiervorgang l?uft</li></ul></ul><ul><li>blaue LED: Sie Zeigt die PC Verbindung an</li><ul><li>dauernd aus: keine Verbindung</li><li>an: Verbindung, aber kein Datentransfer</li><li>sporadisch ausgehend: LED ist w?hrend des Datentransfers aus.</li></ul></ul><h4>Installation</h4>Nachdem der Programmer angesteckt wurde, fragt Windows nach einem Treiber. Diesen bringt es selbst mit, allerdings muss mittgeteilt werden, welcher Treiber zu diesem Ger?t geh?rt. Das macht man mit einer INF Datei, die <a href="usbavr-isp-downloadde.html">hier</a> heruntergeladen werden kann. <br><img src="avrispfound.png" alt="Avrispfound.PNG"></img><br>W?hlen Sie "Software von einer Liste oder bestimmten Quelle installieren".<br><br>W?hlen Sie im n?chsten Dialog das Verzeichnis, in dem Sie die .inf gespeichert haben.<br><br>Wenn Sie nun den Anweisungen folgen, sollte nach Abschluss des Assistenten im Ger?temanager ein zus?tzlicher COM-Port zu finden sein.<br><img src="avrispdevicemanager.png" alt="Avrispdevicemanager.PNG"></img><br><br>Nun ist der Programmer bereit.<br><br><h4> ISP Frequenzen </h4>Da der USBAVRISP mit einem 12 Mhz Quarz arbeitet, werden die STK500-Frequenzen folgenderma?en umgesetzt:<br><br><table><tr><td><b>STK500 Frequenz</b></td><td><b>USB AVR-ISP Frequenz</b></td></tr><tr><td>1,8432 Mhz</td><td>1,5 Mhz</td></tr><tr><td>460,8 khz</td><td>375 khz</td></tr><tr><td>115,2 khz</td><td>93,75 khz</td></tr><tr><td>57,6 khz und kleiner</td><td>1 khz</tr></table><br><br><h4>Betriebsysteme</h4>Windows XP<br>Windows XP 64<br>Windows Server 2008<br>Windows Vista 32bit<br>Windows 7 32bit<br></font><br><br><br></body></html>